import { loaderFactory } from ".";

{{#each pageEntries}}
import * as {{importName}} from "{{importPath .}}";
const {{importName}}_component = {{importName}}.default;
const {{importName}}_loader = async () => {{importName}};
{{/each}}

export const routeStackBuilder = (opt?: { withPreload?: boolean }) => {
  const maybeLoader = loaderFactory(opt);
  return [
    {{#each nestedRoutes}}{{> routePartial}},
    {{/each}}
  ];
}
