import { lazy } from "react";

import { loaderFactory } from ".";

{{#each pageEntries}}
const {{importName}}_component = lazy(() => import("{{importPath .}}"));
const {{importName}}_loader = () => import("{{importPath .}}");
{{/each}}

export const routeStackBuilder = (opt?: { withPreload?: boolean }) => {
  const maybeLoader = loaderFactory(opt);
  return [
    {{#each nestedRoutes}}{{> routePartial}},
    {{/each}}
  ];
}

export const shouldHydrate = () => {{shouldHydrate}};
