import { createApp, createSSRApp } from "vue";

import { routeStackBuilder, shouldHydrate } from "{{importPathmap.vue}}/client";
import App from "../App.vue";
import createRouter from "../router";

const root = document.getElementById("app");

if (root) {
  const routes = routeStackBuilder();
  if (shouldHydrate) {
    const app = createSSRApp(App);
    await createRouter(app, routes);
    app.mount(root, true);
  } else {
    const app = createApp(App);
    await createRouter(app, routes);
    app.mount(root);
  }
} else {
  console.error("Root element not found!");
}
