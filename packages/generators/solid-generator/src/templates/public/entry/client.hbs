import { hydrate, render } from "solid-js/web";

import { routeStackBuilder, shouldHydrate } from "{{importPathmap.solid}}/client";
import App from "../App";
import createRouter from "../router";

const root = document.getElementById("app");

if (root) {
  const routes = routeStackBuilder({ withPreload: true });
  const router = createRouter(App, routes);
  if (shouldHydrate()) {
    hydrate(() => router, root)
  } else {
    render(() => router, root);
  }
} else {
  console.error("Root element not found!");
}
