import { join } from "node:path";

{{#each plugins}}{{importDeclaration}}
{{/each}}
import devPlugin from "@kosmojs/dev";
import {
{{#each generators}}  {{name}},
{{/each}}
} from "@kosmojs/generators";

import defineConfig from "../../vite.base";
import { apiurl, baseurl } from "./config";

export default defineConfig(import.meta.dirname, {
  base: join(baseurl, "/"),
  server: {
    port: {{folder.port}},
  },
  plugins: [
    {{#each plugins}}{{importName}}({{options}}),
    {{/each}}
    devPlugin(apiurl, {
      generators: [ {{#each generators}}{{name}}({{options}}), {{/each}}],
    }),
  ],
});
